<!doctype html><html lang=en-US><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><title>运指如飞</title><meta content="〠 一个古董程序员的琐碎记事." itemprop=about name=description><link href=https://mabuya.vercel.app/assets/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=https://mabuya.vercel.app/assets/favicon-32x32.png rel=icon sizes=16x16 type=image/png><link href=https://mabuya.vercel.app/assets/favicon-180x180.png rel=apple-touch-icon sizes=180x180><link href=https://mabuya.vercel.app/main.css rel=stylesheet><link href=https://mabuya.vercel.app/rss.xml rel=alternate title=RSS type=application/rss+xml><link href=https://mabuya.vercel.app/atom.xml rel=alternate title=Atom type=application/atom+xml><body><div class=darkmode><input class=toggle id=darkmode-toggle tabindex=-1 type=checkbox><label for=darkmode-toggle id=toggle-label-light tabindex=-1><svg style="enable-background:new 0 0 35 35" viewbox="0 0 35 35" id=dayIcon version=1.1 x=0px xml:space=preserve xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink y=0px><title>Change to light mode</title><path d="M6,17.5C6,16.672,5.328,16,4.5,16h-3C0.672,16,0,16.672,0,17.5 S0.672,19,1.5,19h3C5.328,19,6,18.328,6,17.5z M7.5,26c-0.414,0-0.789,0.168-1.061,0.439l-2,2C4.168,28.711,4,29.086,4,29.5 C4,30.328,4.671,31,5.5,31c0.414,0,0.789-0.168,1.06-0.44l2-2C8.832,28.289,9,27.914,9,27.5C9,26.672,8.329,26,7.5,26z M17.5,6 C18.329,6,19,5.328,19,4.5v-3C19,0.672,18.329,0,17.5,0S16,0.672,16,1.5v3C16,5.328,16.671,6,17.5,6z M27.5,9 c0.414,0,0.789-0.168,1.06-0.439l2-2C30.832,6.289,31,5.914,31,5.5C31,4.672,30.329,4,29.5,4c-0.414,0-0.789,0.168-1.061,0.44 l-2,2C26.168,6.711,26,7.086,26,7.5C26,8.328,26.671,9,27.5,9z M6.439,8.561C6.711,8.832,7.086,9,7.5,9C8.328,9,9,8.328,9,7.5 c0-0.414-0.168-0.789-0.439-1.061l-2-2C6.289,4.168,5.914,4,5.5,4C4.672,4,4,4.672,4,5.5c0,0.414,0.168,0.789,0.439,1.06 L6.439,8.561z M33.5,16h-3c-0.828,0-1.5,0.672-1.5,1.5s0.672,1.5,1.5,1.5h3c0.828,0,1.5-0.672,1.5-1.5S34.328,16,33.5,16z M28.561,26.439C28.289,26.168,27.914,26,27.5,26c-0.828,0-1.5,0.672-1.5,1.5c0,0.414,0.168,0.789,0.439,1.06l2,2 C28.711,30.832,29.086,31,29.5,31c0.828,0,1.5-0.672,1.5-1.5c0-0.414-0.168-0.789-0.439-1.061L28.561,26.439z M17.5,29 c-0.829,0-1.5,0.672-1.5,1.5v3c0,0.828,0.671,1.5,1.5,1.5s1.5-0.672,1.5-1.5v-3C19,29.672,18.329,29,17.5,29z M17.5,7 C11.71,7,7,11.71,7,17.5S11.71,28,17.5,28S28,23.29,28,17.5S23.29,7,17.5,7z M17.5,25c-4.136,0-7.5-3.364-7.5-7.5 c0-4.136,3.364-7.5,7.5-7.5c4.136,0,7.5,3.364,7.5,7.5C25,21.636,21.636,25,17.5,25z"/></svg></label><label for=darkmode-toggle id=toggle-label-dark tabindex=-1><svg style="enable-background='new 0 0 100 100'" viewbox="0 0 100 100" id=nightIcon version=1.1 x=0px xml:space=preserve xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink y=0px><title>Change to dark mode</title><path d="M96.76,66.458c-0.853-0.852-2.15-1.064-3.23-0.534c-6.063,2.991-12.858,4.571-19.655,4.571 C62.022,70.495,50.88,65.88,42.5,57.5C29.043,44.043,25.658,23.536,34.076,6.47c0.532-1.08,0.318-2.379-0.534-3.23 c-0.851-0.852-2.15-1.064-3.23-0.534c-4.918,2.427-9.375,5.619-13.246,9.491c-9.447,9.447-14.65,22.008-14.65,35.369 c0,13.36,5.203,25.921,14.65,35.368s22.008,14.65,35.368,14.65c13.361,0,25.921-5.203,35.369-14.65 c3.872-3.871,7.064-8.328,9.491-13.246C97.826,68.608,97.611,67.309,96.76,66.458z"/></svg></label></div><script>const userPref = window.matchMedia("(prefers-color-scheme: light)").matches
    ? "light"
    : "dark";
  const currentTheme = localStorage.getItem("theme") ?? userPref;
  const syntaxTheme = document.querySelector("#theme-link");

  if (currentTheme) {
    document.documentElement.setAttribute("saved-theme", currentTheme);
  }

  const switchTheme = (e) => {
    if (e.target.checked) {
      document.documentElement.setAttribute("saved-theme", "dark");
      localStorage.setItem("theme", "dark");
    } else {
      document.documentElement.setAttribute("saved-theme", "light");
      localStorage.setItem("theme", "light");
    }
  };

  window.addEventListener("DOMContentLoaded", () => {
    const toggleSwitch = document.querySelector("#darkmode-toggle");
    toggleSwitch.addEventListener("change", switchTheme, false);

    if (currentTheme === "dark") {
      toggleSwitch.checked = true;
    }
  });</script><header><section class=nav-container><a class=nav-title href=https://mabuya.vercel.app/> <h2>运指如飞</h2> </a><nav><ul><li><a href=https://mabuya.vercel.app>Archive</a><li><a href=https://mabuya.vercel.app/tags>Tags</a></ul></nav></section></header><main><article class=post><section class=post-info><span>Written by</span> Arvin<br><span>on </span><time datetime=2010-08-23>August 23, 2010</time></section><h1 class=post-title>Geben + Xdebug + Emacs 调试php</h1><section class=post-line></section><p>一直都是用var-dump, echo, die 输出变量来调试php，终于有一天，无法忍受这种低效且不专业的调试方式，经过一番研究，发现在emacs里面，Geben是一个不错的选择<h2 id=gebende-an-zhuang>geben的安装</h2><p>下载geben cd geben-0.26/ make Copy `dbgp.elc', `geben.elc' 和 `tree-widget' 目录到emacs load path下<h2 id=xdebugde-an-zhuang>xdebug的安装</h2><pre class=language-bash data-lang=bash style=color:#dcdcdc;background-color:#1e1e1e><code class=language-bash data-lang=bash><span>wget http://www.xdebug.org/files/xdebug-2.1.0.tgz
</span><span>tar xvfz xdebug-2.1.0.tgz
</span><span>cd xdebug-2.1.0.tgz
</span><span>phpize
</span><span>./configure --enable-xdebug
</span><span>make</span><span style=color:#569cd6>;</span><span>make install
</span></code></pre><h2 id=xiu-gai-php-ini-zeng-jia>修改php.ini 增加</h2><pre class=language-Bash data-lang=Bash style=color:#dcdcdc;background-color:#1e1e1e><code class=language-Bash data-lang=Bash><span>zend_extension_ts=</span><span style=color:#d69d85;background-color:#282828>"/wherever/you/put/it/xdebug.so"</span><span>
</span><span>zend_extension=</span><span style=color:#d69d85;background-color:#282828>"/wherever/you/put/it/xdebug.so"</span><span>
</span></code></pre><h2 id=php-inizeng-jia-xdebugpei-zhi-nei-rong>php.ini增加xdebug配置内容：</h2><pre class=language-Bash data-lang=Bash style=color:#dcdcdc;background-color:#1e1e1e><code class=language-Bash data-lang=Bash><span>xdebug.remote_enable = On
</span></code></pre><h2 id=shi-yong-fang-shi>使用方式</h2><p><strong>.emacs 中加入</strong>：<pre class=language-Bash data-lang=Bash style=color:#dcdcdc;background-color:#1e1e1e><code class=language-Bash data-lang=Bash><span>(autoload </span><span style=color:#d69d85>'geben "geben" "PHP Debugger on Emacs" t)
</span></code></pre><p><strong>启动emacs</strong><p>M-x geben<p>直接访问一个php页，如果设置了手工触发，则需要增加url参数，类似于： http://www.example.com/test.php?XDEBUG_SESSION_START=1<p>如果是命令行调试，则<pre class=language-Bash data-lang=Bash style=color:#dcdcdc;background-color:#1e1e1e><code class=language-Bash data-lang=Bash><span style=color:#569cd6>export </span><span>XDEBUG_CONFIG=</span><span style=color:#d69d85;background-color:#282828>"idekey=session_name"</span><span style=color:#569cd6>;</span><span>php myscript.php
</span></code></pre><h2 id=geben-mode-xia-kuai-jie-jian>geben mode 下快捷键</h2><pre class=language-Bash data-lang=Bash style=color:#dcdcdc;background-color:#1e1e1e><code class=language-Bash data-lang=Bash><span>spc     step into/step over
</span><span>i       step into
</span><span>o       step over
</span><span>r       step out
</span><span>g       run
</span><span>c       run to cursor
</span><span>b       set a breakpoint at a line
</span><span>B       set a breakpoint interactively
</span><span>u       unset a breakpoint at a line
</span><span>U       clear all breakpoints
</span><span style=color:#e3bbab>\C</span><span>-c b  display breakpoint list
</span><span>>       set redirection mode
</span><span style=color:#e3bbab>\C</span><span>-u t  change redirection mode
</span><span>d       display backtrace
</span><span>t       display backtrace
</span><span>v       display context variables
</span><span style=color:#e3bbab>\C</span><span>-c f  visit script file
</span><span>w       where
</span><span>q       stop
</span></code></pre><h2 id=can-kao>参考</h2><p><a href=https://mabuya.vercel.app/geben-xdebug-emacs-php/%22http://code.google.com/p/geben-on-emacs>geben</a><p><a href=https://mabuya.vercel.app/geben-xdebug-emacs-php/%22http://www.xdebug.org/>xdebug</a><p><img alt=在emacs中整体的效果图 src=/assets/txt.png></article><section class=pagination><a class="left arrow" href=https://mabuya.vercel.app/php-mode-introduce/>←</a><a title="Go to top" class=top id=goToTopBtn onclick=goToTop()>Top</a><script>function goToTop() {
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }</script><a class="right arrow" href=https://mabuya.vercel.app/cpp-abi/>→</a></section></main><footer><span class=copyright>© 2007 Arvin. Powered by <a href=https://www.getzola.org target=_blank>Zola</a>.</span><nav class=navigation-footer><li><a href=https://github.com/redwood9>GitHub</a></nav></footer>